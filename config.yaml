port: 7890
socks-port: 1080
allow-lan: false
ipv6: true
mode: Rule
log-level: silent
external-controller: 127.0.0.1:9090
dns:
  # å¯åŠ¨TAPæ¨¡å¼,ä½¿ç”¨clashå»ºç«‹dnsæœåŠ¡
  enable: true
  ipv6: false
  listen: "0.0.0.0:53"
  # é€‰æ‹©fake-ip/redir-hostæ¨¡å¼
  enhanced-mode: fake-ip
  nameserver:
    - "tls://223.5.5.5:853"
    - "https://223.5.5.5/dns-query"
  fallback:
    - 114.114.114.114
    - "tcp://223.5.5.5"
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4
  # fake ipè¿‡æ»¤ï¼Œä»¥ä¸‹åœ°å€ä¸ä¼šè¿›è¡Œfakeipæ˜ å°„
  fake-ip-filter:
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - +.stun.*.*.*.*.*
    - "*.n.n.srv.nintendo.net"
    - +.stun.playstation.net
    - xbox.*.*.microsoft.com
    - "*.*.xboxlive.com"
    - "*.msftncsi.com"
    - "*.msftconnecttest.com"
  # æ˜¯å¦æŸ¥è¯¢é…ç½®ä¸­çš„hosts
  use-hosts: true
  # æ˜¯å¦æŸ¥è¯¢ç³»ç»Ÿé…ç½®ä¸­çš„hosts
  use-system-hosts: true

# é…ç½®èŠ‚ç‚¹,å³è‡ªå·±çš„èŠ‚ç‚¹
proxies:
  - name: proxy-example
    type: trojan
    server: url
    port: 443
    password: password
    udp: true
    sni: sni
    skip-cert-verify: true

# é…ç½®ç­–ç•¥ç»„
proxy-groups:
  - name: ğŸ¥·PROXY
    type: select
    proxies:
      - proxy-example
      - DIRECT
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: ğŸ‘†SELECT
    type: select
    proxies:
      - ğŸ¥·PROXY
      - DIRECT
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: ğŸ“¬WeChat
    type: select
    proxies:
      - ğŸ¥·PROXY
      - DIRECT
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: ğŸYouTube
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸ“½Netflix
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸ¤–OpenAI
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸ”Bing
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸš…Google
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸ›€Bilibiliintl
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸ¦¤Twitter
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸˆGitHub
    type: select
    proxies:
      - ğŸ¥·PROXY
      - ğŸ‘†SELECT
      - DIRECT

  - name: ğŸš¦AD
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸ¥·PROXY

# å¯¼å…¥åœ¨çº¿è§„åˆ™é›†
rule-providers:
  reject: # å¹¿å‘ŠåŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/reject.txt"
    interval: 86400

  icloud: # iCloudåŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/icloud.txt"
    interval: 86400

  apple: # AppleåŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/apple.txt"
    interval: 86400

  google: # GoogleåŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/google.txt"
    interval: 86400

  proxy: # ä»£ç†åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/proxy.txt"
    interval: 86400

  direct: # ç›´è¿åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/direct.txt"
    interval: 86400

  private: # ç§æœ‰ç½‘ç»œä¸“ç”¨åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/private.txt"
    interval: 86400

  gfw: # GFWåŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/gfw.txt"
    interval: 86400

  tld-not-cn: # éä¸­å›½é¡¶çº§åŸŸååˆ—è¡¨
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/tld-not-cn.txt"
    interval: 86400

  telegramcidr: # Telegram IPæ®µåˆ—è¡¨
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/telegramcidr.txt"
    interval: 86400

  cncidr: # ä¸­å›½IPæ®µåˆ—è¡¨
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/cncidr.txt"
    interval: 86400

  lancidr: # æœ¬åœ°IPæ®µåˆ—è¡¨
    type: http
    behavior: ipcidr
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/lancidr.txt"
    interval: 86400

  applications: # éœ€è¦ç›´è¿çš„å¸¸è§è½¯ä»¶åˆ—è¡¨
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/applications.txt"
    interval: 86400

  wechat: # å¾®ä¿¡åŸŸååˆ—è¡¨
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/genIoco/clash-rules/main/rule-providers/wechat.txt"
    interval: 86400

# æ·»åŠ è‡ªå®šä¹‰è§„åˆ™
rules:
  - RULE-SET,private,DIRECT
  - RULE-SET,wechat,ğŸ“¬WeChat
  - GEOIP,CN,DIRECT
  - RULE-SET,lancidr,DIRECT
  - RULE-SET,cncidr,DIRECT
  - RULE-SET,reject,ğŸš¦AD
  - RULE-SET,icloud,DIRECT #
  - RULE-SET,apple,DIRECT # è¿™ä¸‰ä¸ªä¸ºå›½å†…å¯ç›´è¿åœ°å€ï¼Œå¦‚æœå¸Œæœ›èµ°ä»£ç†æ”¹ä¸ºğŸ¥·PROXY
  - RULE-SET,google,ğŸš…Google #
  - RULE-SET,tld-not-cn,ğŸ¥·PROXY
  - RULE-SET,gfw,ğŸ¥·PROXY
  - RULE-SET,telegramcidr,ğŸ¥·PROXY
  - RULE-SET,proxy,ğŸ¥·PROXY
  - RULE-SET,applications,DIRECT
  - RULE-SET,direct,DIRECT
  - MATCH,ğŸ‘†SELECT # â­ï¸â­ï¸è§„åˆ™ä¹‹å¤–çš„ï¼Œåœ¨è¿™é‡Œæ¥ä¿®æ”¹æ˜¯ç™½åå•æ¨¡å¼è¿˜æ˜¯é»‘åå•æ¨¡å¼ï¼Œå…·ä½“åœ¨â€œğŸ‘†SELECTâ€é€‰æ‹©ä»£ç†æˆ–ç›´è¿ã€‚
